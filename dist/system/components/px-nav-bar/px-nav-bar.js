define(["../../directives/module"],function(e){"use strict";e.directive("pxNavBar",["pxConfig","$compile","$parse","$timeout",function(e,a,t,o){return{restrict:"E",replace:!0,transclude:!1,templateUrl:e.PX_PACKAGE+"system/components/px-nav-bar/px-nav-bar.html",link:function(r,n,i){r.logo=e.PX_PACKAGE+"system/assets/richsolutions/richsolutions_bola_200x200.jpg",r.$watch(i.content,function(){n.html(t(i.content)(r)),a(n.contents())(r)},!0),o(r.getNavBar,1e3)}}}]).controller("pxNavBarCtrl",["pxConfig","$scope","$http","$rootScope",function(e,a,t,o){a.templates=[{name:"?.html",url:"?.html"},{name:"",url:""}],a.template=a.templates[1],a.navBar='<div class="app-bar darcula px-no-radius"><span class="app-bar-element place-left" href="...">Por favor aguarde, carregando barra de navegação...</span></div>',a.getNavBar=function(){var r={};r.pro_id=angular.toJson(e.PROJECT_ID),r.isMobile=a.isMobile(),r.user=o.globals.currentUser.usu_id,t({method:"POST",url:e.PX_PACKAGE+"system/components/px-nav-bar/px-nav-bar.cfc?method=getNavBar",params:r}).success(function(e){console.info("getNavBar",e),a.navBar=e.navBar}).error(function(e,a,t,o){alert("Ops! Ocorreu um erro inesperado.\nPor favor contate o administrador do sistema!")})},a.showView=function(o){(a.isMobile()||$(".app-bar-pullbutton.automatic"))&&$(".app-bar-pullbutton.automatic").trigger("click");var r={};r.men_id=o,r.pathname=e.PROJECT_SRC,r.pxProjectPackage=e.PX_PACKAGE,t({method:"POST",url:e.PX_PACKAGE+"system/components/px-nav-bar/px-nav-bar.cfc?method=getView",params:r}).success(function(e){var t=e.qView[0].MEN_NOMECAMINHO.split(e.qView[0].MEN_NOMECAMINHO.split("»")[e.qView[0].MEN_NOMECAMINHO.split("»").length-1]);a.view={},a.view.response=e,a.view.men_id=e.qView[0].MEN_ID,a.view.caminho=e.qView[0].MEN_NOMECAMINHO,a.view.header=t[0],a.view.titulo=e.qView[0].MEN_NOMECAMINHO.split("»")[e.qView[0].MEN_NOMECAMINHO.split("»").length-1],a.view.icon=e.qView[0].COM_ICON,a.templates[1].name=e.qView[0].COM_VIEW,a.templates[1].url=e.qView[0].COM_VIEW}).error(function(e,a,t,o){alert("Ops! Ocorreu um erro inesperado.\nPor favor contate o administrador do sistema!")})},a.isMobile=function(){var e=navigator.userAgent.toLowerCase();return-1!=e.search(/(android|avantgo|blackberry|bolt|boost|cricket|docomo|fone|hiptop|mini|mobi|palm|phone|pie|tablet|up\.browser|up\.link|webos|wos)/i)?!0:!1}}])});