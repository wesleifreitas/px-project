define(["../../directives/module"],function(e){"use strict";e.directive("pxNavBar",["pxConfig","$compile","$parse","$timeout",function(e,t,a,o){return{restrict:"E",replace:!0,transclude:!1,templateUrl:e.PX_PACKAGE+"system/components/px-nav-bar/px-nav-bar.html",link:function(r,i,n){r.logo=e.PX_PACKAGE+"system/assets/richsolutions/richsolutions_bola_200x200.jpg",r.$watch(n.content,function(){i.html(a(n.content)(r)),t(i.contents())(r)},!0),o(r.getNavBar,1e3)}}}]).controller("pxNavBarCtrl",["pxConfig","$scope","$http","$rootScope",function(e,t,a,o){t.templates=[{name:"?.html",url:"?.html"},{name:"",url:""}],t.template=t.templates[1],t.navBar='<div class="app-bar darcula px-no-radius"><span class="app-bar-element place-left" href="...">Por favor aguarde, carregando barra de navegação...</span></div>',t.getNavBar=function(){var r={};r.pro_id=0,r.isMobile=t.isMobile(),r.user=o.globals.currentUser.usu_id,a({method:"POST",url:e.PX_PACKAGE+"system/components/px-nav-bar/px-nav-bar.cfc?method=getNavBar",params:r}).success(function(e){t.navBar=e.navBar}).error(function(e,t,a,o){alert("Ops! Ocorreu um erro inesperado.\nPor favor contate o administrador do sistema!")})},t.showView=function(o){console.info(t.isMobile()),(t.isMobile()||$(".app-bar-pullbutton.automatic"))&&$(".app-bar-pullbutton.automatic").trigger("click");var r={};r.men_id=o,r.pathname=e.PROJECT_SRC,r.pxProjectPackage=e.PX_PACKAGE,a({method:"POST",url:e.PX_PACKAGE+"system/components/px-nav-bar/px-nav-bar.cfc?method=getView",params:r}).success(function(e){var a=e.qView[0].MEN_NOMECAMINHO.split(e.qView[0].MEN_NOMECAMINHO.split("»")[e.qView[0].MEN_NOMECAMINHO.split("»").length-1]);t.view={},t.view.response=e,t.view.men_id=e.qView[0].MEN_ID,t.view.caminho=e.qView[0].MEN_NOMECAMINHO,t.view.header=a[0],t.view.titulo=e.qView[0].MEN_NOMECAMINHO.split("»")[e.qView[0].MEN_NOMECAMINHO.split("»").length-1],t.view.icon=e.qView[0].COM_ICON,t.templates[1].name=e.qView[0].COM_VIEW,t.templates[1].url=e.qView[0].COM_VIEW}).error(function(e,t,a,o){alert("Ops! Ocorreu um erro inesperado.\nPor favor contate o administrador do sistema!")})},t.isMobile=function(){var e=navigator.userAgent.toLowerCase();return-1!=e.search(/(android|avantgo|blackberry|bolt|boost|cricket|docomo|fone|hiptop|mini|mobi|palm|phone|pie|tablet|up\.browser|up\.link|webos|wos)/i)?!0:!1}}])});