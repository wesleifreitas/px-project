define(["../../directives/module"],function(e){"use strict";e.directive("pxNavBar",["pxConfig","$compile","$parse","$timeout",function(e,t,a,n){return{restrict:"E",replace:!0,transclude:!1,templateUrl:e.PX_PACKAGE+"system/components/px-nav-bar/px-nav-bar.html",link:function(o,i,r){o.logo=e.PX_PACKAGE+"system/assets/richsolutions/richsolutions_bola_200x200.jpg",o.$watch(r.content,function(){i.html(a(r.content)(o)),t(i.contents())(o)},!0),n(o.getNavBar,1e3)}}}]).controller("pxNavBarCtrl",["pxConfig","$scope","$http",function(e,t,a){t.templates=[{name:"?.html",url:e.PX_PACKAGE+"?.html"},{name:"",url:""}],t.template=t.templates[1],t.navBar='<div class="navbar-content px-no-radius"><a class="pull-menu" href=""></a><ul id="menu" class="element-menu px-no-radius"><span class="element bg-dark" title="">Por favor aguarde, carregando barra de navegação...</span><div class="element place-right px-pointer" ng-click="toggleRight()"><a class="element-menu"><span class="glyphicon glyphicon-option-vertical" aria-hidden="true"></span></a></div><span class="element-divider place-right"></span><button class="element image-button image-left place-right bg-dark">Phoenix Project - pxproject.com.br<img id="topMenuImgLogo" ng-src="{{logo}}" /></button></ul></div>',t.getNavBar=function(){var n={};n.pro_id=angular.toJson(e.PROJECT_ID),n.isMobile=t.isMobile(),a({method:"POST",url:e.PX_PACKAGE+"system/components/px-nav-bar/px-nav-bar.cfc?method=getNavBar",params:n}).success(function(e){t.navBar=e.navBar}).error(function(e,t,a,n){alert("Ops! Ocorreu um erro inesperado.\nPor favor contate o administrador do sistema!")})},t.showView=function(n){t.isMobile()&&(document.getElementById("menu").style.display="none");var o={};o.men_id=n,o.pathname=e.PROJECT_SRC,o.pxProjectPackage=e.PX_PACKAGE,a({method:"POST",url:e.PX_PACKAGE+"system/components/px-nav-bar/px-nav-bar.cfc?method=getView",params:o}).success(function(e){var a=e.qView[0].MEN_NOMECAMINHO.split(e.qView[0].MEN_NOMECAMINHO.split("»")[e.qView[0].MEN_NOMECAMINHO.split("»").length-1]);t.view={},t.view.response=e,t.view.men_id=e.qView[0].MEN_ID,t.view.caminho=e.qView[0].MEN_NOMECAMINHO,t.view.header=a[0],t.view.titulo=e.qView[0].MEN_NOMECAMINHO.split("»")[e.qView[0].MEN_NOMECAMINHO.split("»").length-1],t.view.icon=e.qView[0].COM_ICON,t.templates[1].name=e.qView[0].COM_VIEW,t.templates[1].url=e.qView[0].COM_VIEW}).error(function(e,t,a,n){alert("Ops! Ocorreu um erro inesperado.\nPor favor contate o administrador do sistema!")})},t.isMobile=function(){var e=navigator.userAgent.toLowerCase();return-1!=e.search(/(android|avantgo|blackberry|bolt|boost|cricket|docomo|fone|hiptop|mini|mobi|palm|phone|pie|tablet|up\.browser|up\.link|webos|wos)/i)?!0:!1}}])});